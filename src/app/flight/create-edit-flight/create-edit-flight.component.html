<nb-card class="div-card">
    <nb-card-body>
        <h1 id="title" class="title" [textContent]="title"></h1>
        <div>
            <form class="center" #flightForm="ngForm">
                <div class="div-input">
                    <div class="form-control-group div-container full-size-div">
                        <label for="passenger" class="label">Passageiro</label>
                        <input nbInput type="text" id="passenger" name="passenger" placeholder="Passageiro" minlength="5" maxlength="100" 
                            class="form-control size-large status-basic full-size-input" 
                            [ngClass]="{ 
                                'status-primary' : !passenger.touched, 
                                'status-success' : !passenger.errors && (passenger.dirty || passenger.touched), 
                                'status-danger'  : passenger.errors && (passenger.dirty || passenger.touched) 
                            }" 
                            [(ngModel)]="flight.passenger" #passenger="ngModel" 
                            required>
                    </div>
                </div>
                <div class="div-input">
                    <div class="form-control-group div-input-margin div-container half-size-div">
                        <label for="flightNumber" class="label">N° do Voo</label>
                        <input nbInput type="text" id="flightNumber" name="flightNumber" placeholder="N° do Voo" minlength="2" maxlength="20" 
                            class="form-control size-large status-basic full-size-input"
                            [ngClass]="{ 
                                'status-primary' : !flightNumber.touched, 
                                'status-success' : !flightNumber.errors && (flightNumber.dirty || flightNumber.touched), 
                                'status-danger'  : flightNumber.errors && (flightNumber.dirty || flightNumber.touched) 
                            }" 
                            [(ngModel)]="flight.flightNumber" #flightNumber="ngModel" 
                            required>
                    </div>
                    <div class="form-control-group div-container half-size-div">
                        <label for="gate" class="label">Portão</label>
                        <input nbInput type="text" id="gate" name="gate" placeholder="Portão" minlength="1" maxlength="10" 
                            class="form-control size-large status-basic full-size-input" 
                            [ngClass]="{ 
                                'status-primary' : !gate.touched, 
                                'status-success' : !gate.errors && (gate.dirty || gate.touched), 
                                'status-danger'  : gate.errors && (gate.dirty || gate.touched) 
                            }" 
                            [(ngModel)]="flight.gate" #gate="ngModel" 
                            required>
                    </div>
                </div>
                <div class="div-input">
                    <div class="form-control-group div-input-margin div-container half-size-div">
                        <label for="seat" class="label">Assento</label>
                            <input nbInput type="text" id="seat" name="seat" placeholder="Assento" minlength="1" maxlength="10" 
                                class="form-control size-large status-basic full-size-input" 
                                [ngClass]="{ 
                                    'status-primary' : !seat.touched, 
                                    'status-success' : !seat.errors && (seat.dirty || seat.touched), 
                                    'status-danger'  : seat.errors && (seat.dirty || seat.touched) 
                                }" 
                                [(ngModel)]="flight.seat" #seat="ngModel" 
                                required>
                    </div>
                    <div class="form-control-group div-container half-size-div">
                        <label for="flightDate" class="label">Data do Voo</label>
                        <input nbInput type="text" id="flightDate" name="flightDate" placeholder="Data do Voo" mask="d0/M0/0000" [showMaskTyped]="true"  [dropSpecialCharacters]="false" 
                            class="form-control size-large status-basic full-size-input"
                            [ngClass]="{ 
                                'status-primary' : !flightDate.touched, 
                                'status-success' : !flightDate.errors && (flightDate.dirty || flightDate.touched), 
                                'status-danger'  : flightDate.errors && (flightDate.dirty || flightDate.touched) 
                            }" 
                            [(ngModel)]="flight.flightDate" #flightDate="ngModel" 
                            required>
                    </div>
                </div>
                <div class="div-input">
                    <div class="form-control-group div-input-margin div-container half-size-div">
                        <label for="boarding" class="label">Horário do embarque</label>
                        <input nbInput type="time" id="boarding" name="boarding" placeholder="Data final" 
                        
                            class="form-control size-large status-basic full-size-input" 
                            [ngClass]="{ 
                                'status-primary' : !boarding.touched, 
                                'status-success' : !boarding.errors && (boarding.dirty || boarding.touched), 
                                'status-danger' : boarding.errors && (boarding.dirty || boarding.touched) 
                            }" 
                            [(ngModel)]="flight.boarding" #boarding="ngModel" 
                            required>
                    </div>
                    <div class="form-control-group div-container half-size-div">
                        <label for="estimatedTime" class="label">Tempo Estimado de Voo</label>
                        <input nbInput type="time" id="estimatedTime" name="estimatedTime" placeholder="Tempo Estimado de Voo" 
                            class="form-control size-large status-basic full-size-input" 
                            [ngClass]="{ 
                                'status-primary' : !estimatedTime.touched, 
                                'status-success' : !estimatedTime.errors && (estimatedTime.dirty || estimatedTime.touched), 
                                'status-danger' : estimatedTime.errors && (estimatedTime.dirty || estimatedTime.touched) 
                            }" 
                            [(ngModel)]="flight.estimatedTime" #estimatedTime="ngModel" 
                            required>
                    </div>
                </div>

                <div class="div-input">
                    <div class="form-control-group div-input-margin div-container half-size-div">
                        <label for="departure" class="label">Horário de saída</label>
                        <input nbInput type="time" id="departure" name="departure" placeholder="Horário de saída" 
                            class="form-control size-large status-basic full-size-input"
                            [ngClass]="{ 
                                'status-primary' : !departure.touched, 
                                'status-success' : !departure.errors && (departure.dirty || departure.touched), 
                                'status-danger'  : departure.errors && (departure.dirty || departure.touched) 
                            }" 
                            [(ngModel)]="flight.departure" #departure="ngModel" 
                            required>
                    </div>
                    <div class="form-control-group div-container half-size-div">
                        <label for="arrival" class="label">Horário de chegada</label>
                        <input nbInput type="time" id="arrival" name="arrival" placeholder="Horário de chegada" 
                            class="form-control size-large status-basic full-size-input" 
                            [ngClass]="{ 
                                'status-primary' : !arrival.touched, 
                                'status-success' : !arrival.errors && (arrival.dirty || arrival.touched), 
                                'status-danger' : arrival.errors && (arrival.dirty || arrival.touched) 
                            }" 
                            [(ngModel)]="flight.arrival" #arrival="ngModel" 
                            required>
                    </div>
                </div>
                
                <div class="div-input">
                    <div class="form-control-group div-input-margin div-container half-size-div">
                        <label for="departureCountry" class="label">País de saída</label>
                        <input nbInput type="text" id="departureCountry" name="departureCountry" placeholder="País de saída" minlength="2" maxlength="100" 
                            class="form-control size-large status-basic full-size-input"
                            [ngClass]="{ 
                                'status-primary' : !departureCountry.touched, 
                                'status-success' : !departureCountry.errors && (departureCountry.dirty || departureCountry.touched), 
                                'status-danger'  : departureCountry.errors && (departureCountry.dirty || departureCountry.touched) 
                            }" 
                            [(ngModel)]="flight.departureCountry" #departureCountry="ngModel" 
                            required>
                    </div>
                    <div class="form-control-group div-container half-size-div">
                        <label for="departureState" class="label">Estado de Saída</label>
                        <input nbInput type="text" id="departureState" name="departureState" placeholder="Estado de Saída" minlength="2" maxlength="100" 
                            class="form-control size-large status-basic full-size-input" 
                            [ngClass]="{ 
                                'status-primary' : !departureState.touched, 
                                'status-success' : !departureState.errors && (departureState.dirty || departureState.touched), 
                                'status-danger' : departureState.errors && (departureState.dirty || departureState.touched) 
                            }" 
                            [(ngModel)]="flight.departureState" #departureState="ngModel" 
                            required>
                    </div>
                </div>

                <div class="div-input">
                    <div class="form-control-group div-input-margin div-container half-size-div">
                        <label for="departureCity" class="label">Cidade de saída</label>
                        <input nbInput type="text" id="departureCity" name="departureCity" placeholder="Cidade de saída" minlength="2" maxlength="100" 
                            class="form-control size-large status-basic full-size-input"
                            [ngClass]="{ 
                                'status-primary' : !departureCity.touched, 
                                'status-success' : !departureCity.errors && (departureCity.dirty || departureCity.touched), 
                                'status-danger'  : departureCity.errors && (departureCity.dirty || departureCity.touched) 
                            }" 
                            [(ngModel)]="flight.departureCity" #departureCity="ngModel" 
                            required>
                    </div>
                    <div class="form-control-group div-container half-size-div">
                        <label for="departureAirport" class="label">Aeroporto de Saída</label>
                        <input nbInput type="text" id="departureAirport" name="departureAirport" placeholder="Aeroporto de Saída" minlength="2" maxlength="100" 
                            class="form-control size-large status-basic full-size-input" 
                            [ngClass]="{ 
                                'status-primary' : !departureAirport.touched, 
                                'status-success' : !departureAirport.errors && (departureAirport.dirty || departureState.touched), 
                                'status-danger' : departureAirport.errors && (departureAirport.dirty || departureState.touched) 
                            }" 
                            [(ngModel)]="flight.departureAirport" #departureAirport="ngModel" 
                            required>
                    </div>
                </div>

                <div class="div-input">
                    <div class="form-control-group div-input-margin div-container half-size-div">
                        <label for="arrivalCountry" class="label">País de chegada</label>
                        <input nbInput type="text" id="arrivalCountry" name="arrivalCountry" placeholder="País de chegada" minlength="2" maxlength="100" 
                            class="form-control size-large status-basic full-size-input"
                            [ngClass]="{ 
                                'status-primary' : !arrivalCountry.touched, 
                                'status-success' : !arrivalCountry.errors && (arrivalCountry.dirty || arrivalCountry.touched), 
                                'status-danger'  : arrivalCountry.errors && (arrivalCountry.dirty || arrivalCountry.touched) 
                            }" 
                            [(ngModel)]="flight.arrivalCountry" #arrivalCountry="ngModel" 
                            required>
                    </div>
                    <div class="form-control-group div-container half-size-div">
                        <label for="arrivalState" class="label">Estado de chegada</label>
                        <input nbInput type="text" id="arrivalState" name="arrivalState" placeholder="Estado de chegada" minlength="2" maxlength="100" 
                            class="form-control size-large status-basic full-size-input" 
                            [ngClass]="{ 
                                'status-primary' : !arrivalState.touched, 
                                'status-success' : !arrivalState.errors && (arrivalState.dirty || arrivalState.touched), 
                                'status-danger' : arrivalState.errors && (arrivalState.dirty || arrivalState.touched) 
                            }" 
                            [(ngModel)]="flight.arrivalState" #arrivalState="ngModel" 
                            required>
                    </div>
                </div>

                <div class="div-input">
                    <div class="form-control-group div-input-margin div-container half-size-div">
                        <label for="arrivalCity" class="label">Cidade de chegada</label>
                        <input nbInput type="text" id="arrivalCity" name="arrivalCity" placeholder="Cidade de chegada" minlength="2" maxlength="100" 
                            class="form-control size-large status-basic full-size-input"
                            [ngClass]="{ 
                                'status-primary' : !arrivalCity.touched, 
                                'status-success' : !arrivalCity.errors && (arrivalCity.dirty || arrivalCity.touched), 
                                'status-danger'  : arrivalCity.errors && (arrivalCity.dirty || arrivalCity.touched) 
                            }" 
                            [(ngModel)]="flight.arrivalCity" #arrivalCity="ngModel" 
                            required>
                    </div>
                    <div class="form-control-group div-container half-size-div">
                        <label for="arrivalAirport" class="label">Aeroporto de chegada</label>
                        <input nbInput type="text" id="arrivalAirport" name="arrivalAirport" placeholder="Aeroporto de chegada" minlength="2" maxlength="100" 
                            class="form-control size-large status-basic full-size-input" 
                            [ngClass]="{ 
                                'status-primary' : !arrivalAirport.touched, 
                                'status-success' : !arrivalAirport.errors && (arrivalAirport.dirty || arrivalAirport.touched), 
                                'status-danger' : arrivalAirport.errors && (arrivalAirport.dirty || arrivalAirport.touched) 
                            }" 
                            [(ngModel)]="flight.arrivalAirport" #arrivalAirport="ngModel" 
                            required>
                    </div>
                </div>

                <div class="div-input div-form-button">
                    <div class="form-control-group div-input-margin div-container half-size-div">
                        <button nbButton type="button" status="primary" 
                                class="appearance-filled full-width size-large shape-rectangle status-primary nb-transition" 
                                (click)="saveFlight()" 
                                [disabled]="!flightForm.form.valid">
                                Salvar
                        </button>
                    </div>
                    <div class="form-control-group div-container half-size-div">
                        <button nbButton type="button" status="info" 
                                class="appearance-filled full-width size-large shape-rectangle status-info nb-transition"
                                [routerLink]="['/flight/list']">
                                Voltar
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </nb-card-body>
</nb-card>
